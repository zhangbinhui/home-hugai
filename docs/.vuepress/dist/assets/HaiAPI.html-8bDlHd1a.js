import{_ as s,a as o,b as r,c as p}from"./image-2-jQDqYKRe.js";import{_ as l,r as d,o as c,c as h,a as e,b as a,d as i,e as t}from"./app-lyGGo-6D.js";const u="/assets/image-3-uF19MLko.png",g="/assets/image-4-Pz3vw2pc.png",m="/assets/image-5-2yIp6oxs.png",v="/assets/image-6-yS34aOsD.png",_="/assets/image-7-aWLPqAXX.png",b="/assets/image-7-0-UZGfcr10.png",P="/assets/image-7-1-aZZfQPiL.png",f={},x=t('<h1 id="openai-api-中转服务" tabindex="-1"><a class="header-anchor" href="#openai-api-中转服务" aria-hidden="true">#</a> OpenAI API 中转服务</h1><p>🎉欢迎使用 Ai自强少年 提供的中转 API 服务 Hai API，本服务旨在为大家提供稳定的 OpenAI API 中转服务。</p><div class="custom-container tip"><p class="custom-container-title">最新动态 2023-11-08</p><p>已支持 gpt-4-1106-preview，gpt-3.5-turbo-1106 。</p><p>价格已经调整为与官网一致。</p><p>gpt-3.5-turbo 模型已自动映射为 gpt-3.5-turbo-1106。</p><p>gpt-4-vision-preview 仍在开发中，敬请期待。</p></div><p>⚠️gtp-4-turbo 的额度消耗速度是 3.5 的 10 到 20 倍，单次聊天最高可能会消耗高达数万 token，请谨慎使用。</p><p>💡中转地址：<strong><code>https://api.hugai.top</code></strong>(备用中转地址：<strong><code>https://api-proxy.hugai.top</code></strong>)，哪个快用哪个，请搭配Key使用。</p>',5),k={href:"https://next.hugai.top",target:"_blank",rel:"noopener noreferrer"},A={href:"https://nb.hugai.top",target:"_blank",rel:"noopener noreferrer"},I=t('<p>🚦网络环境：各地连接速度不同，如无法访问说明缘分未到，不勉强；若是钢铁般的需求，请在微信公众号私信联系。</p><h2 id="这是什么" tabindex="-1"><a class="header-anchor" href="#这是什么" aria-hidden="true">#</a> 这是什么？</h2><p>由于 OpenAI 对国内用户做了限制，导致国内用户很难轻松使用 ChatGPT 类服务，很多基于 ChatGPT 的聊天软件，比如：</p><ul><li><p>ChatBox</p></li><li><p>ChatGPT Next Web</p></li><li><p>ChatGPT Web</p></li><li><p>沉浸式翻译</p></li><li><p>虚拟桌宠模拟器</p></li><li><p>以及各种各样的浏览器扩展</p></li></ul><p>同时大模型开发使用的 langchain、llamaindex 等库，往往需要用户传入 OpenAI API Key，但在很多情况下，国内的网络状况都不允许直连 api.openai.com （OpenAI 的 API 地址），所以我提供了此中转服务，它的特点：</p><ul><li><p>稳定：我应该不会轻易跑路，毕竟这玩意儿也赚不了几个钱，只是用于维持公众号的日常运营；</p></li><li><p>方便：所有用到 OpenAI API 的地方都可以无缝替代；</p></li><li><p>快速：我会持续优化中转服务的线路速度，来保证使用体验；</p></li><li><p>省心：没有包月，没有会员，没有限时，用多少买多少，不用担心过期。</p></li></ul><h2 id="为什么要提供这个中转服务" tabindex="-1"><a class="header-anchor" href="#为什么要提供这个中转服务" aria-hidden="true">#</a> 为什么要提供这个中转服务？</h2>',7),T={href:"https://pandora.hugai.top",target:"_blank",rel:"noopener noreferrer"},q={href:"https://simple.hugai.top",target:"_blank",rel:"noopener noreferrer"},y=e("p",null,"所以决定再为有API使用需求的用户们提供官方 OpenAI API 中转服务，这样大家无需折腾繁琐的 OpenAI 账号注册和缴费流程，就能用与官方相同的价格使用 ChatGPT API。",-1),G=e("h2",{id:"如何购买key",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#如何购买key","aria-hidden":"true"},"#"),a(" 如何购买Key？")],-1),C={href:"https://shop.wehugai.com/",target:"_blank",rel:"noopener noreferrer"},O=e("p",null,[e("img",{src:s,alt:"小店截图.png"})],-1),K={href:"https://usage.hugai.top",target:"_blank",rel:"noopener noreferrer"},L=e("p",null,[e("img",{src:o,alt:"image.png"})],-1),$=e("h2",{id:"如何使用",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#如何使用","aria-hidden":"true"},"#"),a(" 如何使用？")],-1),N=e("p",null,"在付款之后，可以订单页或者您预留的邮箱中找到刚刚买到的 API Key，搭配中转地址，即可无缝替代 OpenAI 官方 API。",-1),S={href:"https://platform.openai.com/docs/api-reference/completions/create",target:"_blank",rel:"noopener noreferrer"},w=t(`<p>使用时将官方文档中所有的 <code>https://api.openai.com</code> 替换为本服务提供的中转地址：<strong><code>https://api.hugai.top</code></strong> 或备用地址：<strong><code>https://api-proxy.hugai.top</code></strong></p><p>接口用法与 OpenAI 官方 API 完全一致。</p><p>目前已经支持的中转接口如下：</p><div class="language-TypeScript line-numbers-mode" data-ext="TypeScript"><pre class="language-TypeScript"><code>export const OpenaiPath = {
  ChatPath: &quot;v1/chat/completions&quot;, // chatgpt 聊天接口
  UsagePath: &quot;v1/dashboard/billing/usage&quot;, // 用量查询，数据单位为 token
  SubsPath: &quot;v1/dashboard/billing/subscription&quot;, // 总量查询，数据单位为 token
  ListModelPath: &quot;v1/models&quot;, // 查询可用模型
  EmbeddingPath: &quot;v1/embeddings&quot;, // 文本向量化
};
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在开始使用之前，你需要用到以下信息：</p><div class="language-Plain line-numbers-mode" data-ext="Plain"><pre class="language-Plain"><code>中转接口地址：https://api.hugai.top/openai
中转 API Key：ak-xxxxxxxxx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="在本站的-尊享-gpt-中使用" tabindex="-1"><a class="header-anchor" href="#在本站的-尊享-gpt-中使用" aria-hidden="true">#</a> 在本站的 尊享 GPT 中使用</h3>`,7),B={href:"https://next.hugai.top",target:"_blank",rel:"noopener noreferrer"},E=t('<p><img src="'+r+'" alt="image.png"></p><p><img src="'+p+`" alt="image.png"></p><p>然后点击重新检查，即可开始使用。</p><h3 id="在官方-openai-库中使用" tabindex="-1"><a class="header-anchor" href="#在官方-openai-库中使用" aria-hidden="true">#</a> 在官方 openai 库中使用</h3><div class="language-Python line-numbers-mode" data-ext="Python"><pre class="language-Python"><code>import openai

openai.api_base = &quot;https://api.hugai.top/openai/v1&quot;
openai.api_key = &quot;ak-3133f6*******ee269b71d&quot;

chat_completion = openai.ChatCompletion.create(
    model=&quot;gpt-3.5-turbo&quot;, messages=[{&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;ping!&quot;}]
)

print(chat_completion.choices[0].message.content)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>支持gpt4：</strong></li></ul><p><img src="`+u+'" alt="image.png"></p><ul><li><strong>支持text-embedding-ada-002：</strong></li></ul><p><img src="'+g+`" alt="image.png"></p><h3 id="在-langchain-中使用" tabindex="-1"><a class="header-anchor" href="#在-langchain-中使用" aria-hidden="true">#</a> 在 LangChain 中使用</h3><div class="language-Python line-numbers-mode" data-ext="Python"><pre class="language-Python"><code>from langchain.chat_models import ChatOpenAI

llm = ChatOpenAI(
    openai_api_base=&quot;https://api.hugai.top/openai/v1&quot;, # 注意，末尾要加 /v1
    openai_api_key=&quot;ak-3133f******fee269b71d&quot;,
)

res = llm.predict(&quot;hello&quot;)

print(res)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="在虚拟桌宠模拟器中使用" tabindex="-1"><a class="header-anchor" href="#在虚拟桌宠模拟器中使用" aria-hidden="true">#</a> 在虚拟桌宠模拟器中使用</h3><p>使用下方地址作为 API URL，API Key 使用 ak- 即可。</p><div class="language-Plain line-numbers-mode" data-ext="Plain"><pre class="language-Plain"><code>https://api.hugai.top/openai/v1/chat/completions
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="在沉浸式翻译中使用" tabindex="-1"><a class="header-anchor" href="#在沉浸式翻译中使用" aria-hidden="true">#</a> 在沉浸式翻译中使用</h3><p>使用下方地址作为 API URL，API Key 使用 ak- 即可。</p><div class="language-Plain line-numbers-mode" data-ext="Plain"><pre class="language-Plain"><code>https://api.hugai.top/openai/v1/chat/completions
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+m+'" alt="image.png"></p><h2 id="定价规则" tabindex="-1"><a class="header-anchor" href="#定价规则" aria-hidden="true">#</a> 定价规则</h2><h3 id="什么是-token" tabindex="-1"><a class="header-anchor" href="#什么是-token" aria-hidden="true">#</a> 什么是 token？</h3><p>Token 是大语言模型处理信息的最小单元，它介于“字”和“词”之间，你可以用下方的网址，来计算一段文字会变成多少 token：</p>',21),U={href:"https://gpt-tokenizer.dev/",target:"_blank",rel:"noopener noreferrer"},V=e("p",null,[e("img",{src:v,alt:"image.png"})],-1),W=e("p",null,"大部分情况下，你都可以使用 1 汉字 = 2 token 来近似估算中文聊天的中文所需 token 数。",-1),z=e("h3",{id:"定价规则-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#定价规则-1","aria-hidden":"true"},"#"),a(" 定价规则")],-1),H={href:"https://openai.com/pricing",target:"_blank",rel:"noopener noreferrer"},Z=t('<p><img src="'+_+'" alt="image.png"></p><p>以大家最常用的GPT-3.5 Turbo 为例，每1000 tokens(约500个汉字) 的输入为 $0.001, 输出为 $0.002。</p><p>而最新的GPT-4 Turbo，每1000 tokens(约500个汉字) 的输入为 $0.01, 输出为 $0.03。</p><p><img src="'+b+'" alt="image.png"></p><p>我们以GPT-3.5 Turbo为定价基准，你所购买到的 token 数，都是以GPT-3.5 Turbo 的输入 token 为计价基准。</p><p>这样当你使用GPT-4 Turbo 模型时，输入为3.5 消耗tokens数x10倍（$0.01/$0.001），输出为3.5 消耗tokens数x30倍。</p><p>而最早的GPT-4 的相对来说就非常贵了，gpt-4 是GPT-3.5 Turbo 的30倍，gpt-4-32k 是60倍，不推荐使用。</p><p><img src="'+P+'" alt="image.png"></p><h2 id="用户协议" tabindex="-1"><a class="header-anchor" href="#用户协议" aria-hidden="true">#</a> 用户协议</h2><p>付款即视为同意本协议！否则请不要付款！</p><ol><li><p>本服务不会以任何形式持久化存储任何用户的任何聊天信息；</p></li><li><p>本服务不知晓也无从知晓用户在本服务上传输的任何文本内容，用户使用本服务引发的任何违法犯罪后果，由使用者承担，本服务将全力配合由此可能引起的相关调查；</p></li><li><p>用户在平台上的任何付款行为，均视为对公众号运营的捐赠行为，并不与本服务构成交易，也不存在任何法律意义上的合同或契约关系；</p></li><li><p>本服务视为开源项目 ChatGPT Next Web 项目以及相关项目的辅助调试工具，请勿用于其他用途；</p></li></ol>',11);function M(R,X){const n=d("ExternalLinkIcon");return c(),h("div",null,[x,e("p",null,[a("👉 配套的网页ChatGPT体验入口："),e("a",k,[a("尊享 GPT"),i(n)]),a("，"),e("a",A,[a("备用地址"),i(n)])]),I,e("p",null,[a("我在公众号上提供的两个免费项目 "),e("a",T,[a("原味 GPT"),i(n)]),a(" 和 "),e("a",q,[a("简洁 GPT"),i(n)]),a(" 吸引了不少用户。然而，随着项目的功能稳定，来自文章的赞赏日益减少，而服务器，域名，网络都是需要持续投入的。")]),y,G,e("p",null,[a("点击链接👉 "),e("a",C,[a("Ai自强少年的小店"),i(n)]),a(" ，选择对应Token额度的Key购买即可：")]),O,e("p",null,[a("点击链接👉 "),e("a",K,[a("Key查询及充值页"),i(n)]),a(" ，将购买的Key填入，可以用量情况及响应速度：")]),L,$,N,e("p",null,[a("如果你是开发者，请查阅 OpenAI 官方 API 文档："),e("a",S,[a("platform.openai.com"),i(n)])]),w,e("p",null,[a("我们以 尊享ChatGPT 的演示站点为例，点开链接："),e("a",B,[a("尊享 ChatGPT"),i(n)])]),E,e("p",null,[e("a",U,[a("gpt-tokenizer playground"),i(n)])]),V,W,z,e("p",null,[a("OpenAI 官网给出的定价："),e("a",H,[a("Pricing"),i(n)])]),Z])}const Q=l(f,[["render",M],["__file","HaiAPI.html.vue"]]);export{Q as default};
